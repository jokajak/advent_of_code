#!/usr/bin/env python

import pytest
import re


def is_passport_field_valid(field, value):
    """Determine if passport field is valid.

    Args:
        field (string): The passport field
        value (string): The value

    - byr (Birth Year) - four digits; at least 1920 and at most 2002.
    - iyr (Issue Year) - four digits; at least 2010 and at most 2020.
    - eyr (Expiration Year) - four digits; at least 2020 and at most 2030.
    - hgt (Height) - a number followed by either cm or in:
        If cm, the number must be at least 150 and at most 193.
        If in, the number must be at least 59 and at most 76.
    - hcl (Hair Color) - a # followed by exactly six characters 0-9 or a-f.
    - ecl (Eye Color) - exactly one of: amb blu brn gry grn hzl oth.
    - pid (Passport ID) - a nine-digit number, including leading zeroes.
    - cid (Country ID) - ignored, missing or not.
    """
    if field == "byr":
        return int(value) >= 1920 and int(value) <= 2002
    if field == "iyr":
        return int(value) >= 2010 and int(value) <= 2020
    if field == "eyr":
        return int(value) >= 2020 and int(value) <= 2030
    if field == "hcl":
        regex = r"#[0-9a-f]{6}"
        return re.match(regex, value) is not None
    if field == "ecl":
        valid_eye_colors = ("amb", "blu", "brn", "gry", "grn", "hzl", "oth")
        return value in valid_eye_colors
    if field == "pid":
        regex = r"^[0-9]{9}$"
        return re.match(regex, value) is not None
    if field == "hgt":
        if value.endswith("in"):
            height = int(value.strip("in"))
            return height >= 59 and height <= 76
        elif value.endswith("cm"):
            height = int(value.strip("cm"))
            return height >= 150 and height <= 193
        return False


@pytest.mark.parametrize("field,value,expected", [
    ("byr", "1919", False),
    ("byr", "2003", False),
    ("byr", "1920", True),
    ("byr", "2002", True),
    ("iyr", "2009", False),
    ("iyr", "2021", False),
    ("iyr", "2010", True),
    ("iyr", "2020", True),
    ("eyr", "2019", False),
    ("eyr", "2031", False),
    ("eyr", "2020", True),
    ("eyr", "2030", True),
    ("ecl", "amber", False),
    ("ecl", "blue", False),
    ("ecl", "brn", True),
    ("ecl", "gry", True),
    ("ecl", "#2872b1", False),
    ("ecl", "#3ec898", False),
    ("ecl", "#503286", False),
    ("ecl", "#781088", False),
    ("ecl", "#7880a9", False),
    ("ecl", "#872a51", False),
    ("ecl", "#94b8aa", False),
    ("ecl", "amb", True),
    ("ecl", "blu", True),
    ("ecl", "brn", True),
    ("ecl", "dne", False),
    ("ecl", "gmt", False),
    ("ecl", "grn", True),
    ("ecl", "grt", False),
    ("ecl", "gry", True),
    ("ecl", "hzl", True),
    ("ecl", "oth", True),
    ("ecl", "xry", False),
    ("ecl", "zzz", False),
    ("hcl", "", False),
    ("hcl", "#0a9307", True),
    ("hcl", "#16d373", True),
    ("hcl", "#18171d", True),
    ("hcl", "#2cdc09", True),
    ("hcl", "#341e13", True),
    ("hcl", "#506937", True),
    ("hcl", "#602927", True),
    ("hcl", "#623a2f", True),
    ("hcl", "#6b5442", True),
    ("hcl", "#6c4ab1", True),
    ("hcl", "#6daac4", True),
    ("hcl", "#733820", True),
    ("hcl", "#7873b3", True),
    ("hcl", "#7c5fe8", True),
    ("hcl", "#7d3b0c", True),
    ("hcl", "#808e9e", True),
    ("hcl", "#83bdc5", True),
    ("hcl", "#866857", True),
    ("hcl", "#888785", True),
    ("hcl", "#8b8c88", True),
    ("hcl", "#90eb1c", True),
    ("hcl", "#919cc0", True),
    ("hcl", "#964ba7", True),
    ("hcl", "#9bd1f0", True),
    ("hcl", "#9f45c4", True),
    ("hcl", "#a5e1b5", True),
    ("hcl", "#a97842", True),
    ("hcl", "#accfa0", True),
    ("hcl", "#b6652a", True),
    ("hcl", "#bde835", True),
    ("hcl", "#c0946f", True),
    ("hcl", "#c1d296", True),
    ("hcl", "#c25ea9", True),
    ("hcl", "#c45e93", True),
    ("hcl", "#ceb3a1", True),
    ("hcl", "#cfa07d", True),
    ("hcl", "#d64d7b", True),
    ("hcl", "#d6976a", True),
    ("hcl", "#efcc98", True),
    ("hcl", "#fffffz", False),
    ("hcl", "06ab6e", False),
    ("hcl", "531ad3", False),
    ("hcl", "57dd0d", False),
    ("hcl", "7f2398", False),
    ("hcl", "89c187", False),
    ("hcl", "97783d", False),
    ("hcl", "a27d2b", False),
    ("hcl", "ade850", False),
    ("hcl", "c2af7e", False),
    ("hcl", "dc2fa7", False),
    ("hcl", "ece72e", False),
    ("hcl", "ee8e92", False),
    ("hcl", "eefed5", False),
    ("hcl", "f55bf8", False),
    ("hcl", "z", False),
    ("hgt", "", False),
    ("hgt", "150", False),
    ("hgt", "150cm", True),
    ("hgt", "150in", False),
    ("hgt", "151cm", True),
    ("hgt", "152cm", True),
    ("hgt", "153cm", True),
    ("hgt", "154cm", True),
    ("hgt", "155cm", True),
    ("hgt", "156cm", True),
    ("hgt", "156in", False),
    ("hgt", "157cm", True),
    ("hgt", "158cm", True),
    ("hgt", "159cm", True),
    ("hgt", "159in", False),
    ("hgt", "160cm", True),
    ("hgt", "161cm", True),
    ("hgt", "162cm", True),
    ("hgt", "163", False),
    ("hgt", "163cm", True),
    ("hgt", "163in", False),
    ("hgt", "164cm", True),
    ("hgt", "165cm", True),
    ("hgt", "167cm", True),
    ("hgt", "168cm", True),
    ("hgt", "169cm", True),
    ("hgt", "170cm", True),
    ("hgt", "170in", False),
    ("hgt", "171cm", True),
    ("hgt", "172cm", True),
    ("hgt", "173cm", True),
    ("hgt", "174cm", True),
    ("hgt", "175cm", True),
    ("hgt", "176", False),
    ("hgt", "176cm", True),
    ("hgt", "177cm", True),
    ("hgt", "177in", False),
    ("hgt", "178cm", True),
    ("hgt", "178in", False),
    ("hgt", "179cm", True),
    ("hgt", "180cm", True),
    ("hgt", "181cm", True),
    ("hgt", "182cm", True),
    ("hgt", "183cm", True),
    ("hgt", "184cm", True),
    ("hgt", "185cm", True),
    ("hgt", "185in", False),
    ("hgt", "186cm", True),
    ("hgt", "187cm", True),
    ("hgt", "188cm", True),
    ("hgt", "189cm", True),
    ("hgt", "190cm", True),
    ("hgt", "191cm", True),
    ("hgt", "192cm", True),
    ("hgt", "193cm", True),
    ("hgt", "60cm", False),
    ("hgt", "62in", True),
    ("hgt", "63cm", False),
    ("hgt", "63in", True),
    ("hgt", "64in", True),
    ("hgt", "65cm", False),
    ("hgt", "65in", True),
    ("hgt", "66in", True),
    ("hgt", "67cm", False),
    ("hgt", "67in", True),
    ("hgt", "68in", True),
    ("hgt", "69in", True),
    ("hgt", "70in", True),
    ("hgt", "71in", True),
    ("hgt", "72in", True),
    ("hgt", "73in", True),
    ("hgt", "74in", True),
    ("hgt", "75cm", False),
    ("hgt", "75in", True),
    ("hgt", "76in", True),
    ("hgt", "78    ", False),
    ("pid", "", False),
    ("pid", "#36aedf", False),
    ("pid", "#87bab9", False),
    ("pid", "#d50a43", False),
    ("pid", "002446580", True),
    ("pid", "006246552", True),
    ("pid", "007601227", True),
    ("pid", "014457573", True),
    ("pid", "016384352", True),
    ("pid", "017534154", True),
    ("pid", "020478204", True),
    ("pid", "024582079", True),
    ("pid", "027653233", True),
    ("pid", "029106453", True),
    ("pid", "047567505", True),
    ("pid", "053762098", True),
    ("pid", "053763751", True),
    ("pid", "062495008", True),
    ("pid", "065413599", True),
    ("pid", "066973099", True),
    ("pid", "084518249", True),
    ("pid", "097558436", True),
    ("pid", "111220591", True),
    ("pid", "111506492", True),
    ("pid", "117915262", True),
    ("pid", "120131971", True),
    ("pid", "125102070", True),
    ("pid", "127467714", True),
    ("pid", "132872161", True),
    ("pid", "134378987", True),
    ("pid", "136852264", True),
    ("pid", "138677174", True),
    ("pid", "143293382", True),
    ("pid", "149540593", True),
    ("pid", "152702068", True),
    ("pid", "154078695", True),
    ("pid", "156436859", True),
    ("pid", "155cm", False),
    ("pid", "158cm", False),
    ("pid", "161604244", True),
    ("pid", "164408694", True),
    ("pid", "165733929", True),
    ("pid", "167894964", True),
    ("pid", "168654790", True),
    ("pid", "170cm", False),
    ("pid", "172567579", True),
    ("pid", "172cm", False),
    ("pid", "175294029", True),
    ("pid", "177266671", True),
    ("pid", "177476829", True),
    ("pid", "178cm", False),
    ("pid", "186217101", True),
    ("pid", "189634089", True),
    ("pid", "193cm", False),
    ("pid", "202653345", True),
    ("pid", "205477922", True),
    ("pid", "210476779", True),
    ("pid", "214212776", True),
    ("pid", "214679440", True),
    ("pid", "218376636", True),
    ("pid", "219206471", True),
    ("pid", "223378458", True),
    ("pid", "235279200", True),
    ("pid", "238825672", True),
    ("pid", "240720987", True),
    ("pid", "241834382", True),
    ("pid", "243811429", True),
    ("pid", "248573931", True),
    ("pid", "251564680", True),
    ("pid", "255062643", True),
    ("pid", "262927116", True),
    ("pid", "271118829", True),
    ("pid", "275525273", True),
    ("pid", "277739802", True),
    ("pid", "279164109", True),
    ("pid", "281331549", True),
    ("pid", "285371937", True),
    ("pid", "289871693", True),
    ("pid", "292601338", True),
    ("pid", "301296222", True),
    ("pid", "304587325", True),
    ("pid", "305025767", True),
    ("pid", "305782299", True),
    ("pid", "307377995", True),
    ("pid", "310104177", True),
    ("pid", "310277488", True),
    ("pid", "311562177", True),
    ("pid", "314810594", True),
    ("pid", "317661479", True),
    ("pid", "324081998", True),
    ("pid", "329751670", True),
    ("pid", "333716867", True),
    ("pid", "338567803", True),
    ("pid", "340752324", True),
    ("pid", "340904964", True),
    ("pid", "356632792", True),
    ("pid", "358398181", True),
    ("pid", "358943355", True),
    ("pid", "361945273", True),
    ("pid", "365539813", True),
    ("pid", "369493064", True),
    ("pid", "371604584", True),
    ("pid", "374875696", True),
    ("pid", "378496967", True),
    ("pid", "378527883", True),
    ("pid", "37925169", False),
    ("pid", "396230480", True),
    ("pid", "401735295", True),
    ("pid", "405182470", True),
    ("pid", "406209763", True),
    ("pid", "408297435", True),
    ("pid", "416990697", True),
    ("pid", "418735327", True),
    ("pid", "418787965", True),
    ("pid", "419639528", True),
    ("pid", "4275535874", False),
    ("pid", "431242259", True),
    ("pid", "438108851", True),
    ("pid", "446142864", True),
    ("pid", "447061655", True),
    ("pid", "453480077", True),
    ("pid", "453816800", True),
    ("pid", "458004221", True),
    ("pid", "458479816", True),
    ("pid", "459704815", True),
    ("pid", "460137392", True),
    ("pid", "461889565", True),
    ("pid", "4634589837", True),
    ("pid", "465809700", True),
    ("pid", "473085232", True),
    ("pid", "476675886", True),
    ("pid", "490792384", True),
    ("pid", "492241189", True),
    ("pid", "504067323", True),
    ("pid", "507892696", True),
    ("pid", "509762954", True),
    ("pid", "512315114", True),
    ("pid", "515139276", True),
    ("pid", "516025566", True),
    ("pid", "516882944", True),
    ("pid", "520273609", True),
    ("pid", "523401750", True),
    ("pid", "524032739", True),
    ("pid", "526060780", True),
    ("pid", "526744288", True),
    ("pid", "534667048", True),
    ("pid", "537307591", True),
    ("pid", "542750146", True),
    ("pid", "544267207", True),
    ("pid", "544645775", True),
    ("pid", "545260883", True),
    ("pid", "545631256", True),
    ("pid", "546461828", True),
    ("pid", "549757712", True),
    ("pid", "55484149", True),
    ("pid", "554959609", True),
    ("pid", "558179058", True),
    ("pid", "559014976", True),
    ("pid", "560653271", True),
    ("pid", "562699115", True),
    ("pid", "562766105", True),
    ("pid", "564975864", True),
    ("pid", "572934921", True),
    ("pid", "574527322", True),
    ("pid", "575721428", True),
    ("pid", "580812884", True),
    ("pid", "582683387", True),
    ("pid", "583625200", True),
    ("pid", "585351486", True),
    ("pid", "585551405", True),
    ("pid", "591430028", True),
    ("pid", "592419048", True),
    ("pid", "593995708", True),
    ("pid", "594960553", True),
    ("pid", "600132416", True),
    ("pid", "602218620", True),
    ("pid", "604239618", True),
    ("pid", "607407479", True),
    ("pid", "610689703", True),
    ("pid", "614239656", True),
    ("pid", "619798285", True),
    ("pid", "620634584", True),
    ("pid", "632519974", True),
    ("pid", "636649774", True),
    ("pid", "63978523", True),
    ("pid", "642043350", True),
    ("pid", "644964785", True),
    ("pid", "648307551", True),
    ("pid", "649868696", True),
    ("pid", "649877471", True),
    ("pid", "655906238", True),
    ("pid", "657051725", True),
    ("pid", "662111811", True),
    ("pid", "665967850", True),
    ("pid", "667631009", True),
    ("pid", "669007078", True),
    ("pid", "672386364", True),
    ("pid", "681061896", True),
    ("pid", "682212551", True),
    ("pid", "6830168962", True),
    ("pid", "683641152", True),
    ("pid", "684760742", True),
    ("pid", "68659204", True),
    ("pid", "688706448", True),
    ("pid", "689027667", True),
    ("pid", "690872200", True),
    ("pid", "691291640", True),
    ("pid", "691381062", True),
    ("pid", "691913618", True),
    ("pid", "695538656", True),
    ("pid", "701366586", True),
    ("pid", "705511368", True),
    ("pid", "709288293", True),
    ("pid", "712345689", True),
    ("pid", "712946803", True),
    ("pid", "724466265", True),
    ("pid", "727551553", True),
    ("pid", "732892920", True),
    ("pid", "733096171", True),
    ("pid", "745727684", True),
    ("pid", "753377589", True),
    ("pid", "755165290", True),
    ("pid", "755580715", True),
    ("pid", "756726480", True),
    ("pid", "75969209", True),
    ("pid", "763432667", True),
    ("pid", "767329807", True),
    ("pid", "772739059", True),
    ("pid", "774859218", True),
    ("pid", "777881168", True),
    ("pid", "786271493", True),
    ("pid", "787390180", True),
    ("pid", "789810179", True),
    ("pid", "791359040", True),
    ("pid", "802832833", True),
    ("pid", "804559436", True),
    ("pid", "808872803", True),
    ("pid", "812072269", True),
    ("pid", "812929897", True),
    ("pid", "815359103", True),
    ("pid", "816685992", True),
    ("pid", "818289829", True),
    ("pid", "818889983", True),
    ("pid", "824745692", True),
    ("pid", "830487275", True),
    ("pid", "832531235", True),
    ("pid", "835184859", True),
    ("pid", "8356519470", True),
    ("pid", "842126902", True),
    ("pid", "843747591", True),
    ("pid", "857891916", True),
    ("pid", "864852584", True),
    ("pid", "872373191", True),
    ("pid", "872750582", True),
    ("pid", "873200829", True),
    ("pid", "875646528", True),
    ("pid", "882429463", True),
    ("pid", "883116919", True),
    ("pid", "88405792", True),
    ("pid", "890698391", True),
    ("pid", "899137640", True),
    ("pid", "901370677", True),
    ("pid", "906418061", True),
    ("pid", "906572505", True),
    ("pid", "911791767", True),
    ("pid", "914724136", True),
    ("pid", "921660781", True),
    ("pid", "925022199", True),
    ("pid", "93285596", True),
    ("pid", "933295825", True),
    ("pid", "933380459", True),
    ("pid", "936536544", True),
    ("pid", "937928270", True),
    ("pid", "938828535", True),
    ("pid", "939088351", True),
    ("pid", "939492531", True),
    ("pid", "94163132", True),
    ("pid", "944007809", True),
    ("pid", "945869114", True),
    ("pid", "946040810", True),
    ("pid", "951019647", True),
    ("pid", "952444443", True),
    ("pid", "953607814", True),
    ("pid", "957722245", True),
    ("pid", "959861097", True),
    ("pid", "964273950", True),
    ("pid", "975843892", True),
    ("pid", "976028541", True),
    ("pid", "995982765", True),
    ("pid", "998471478", True),
    ("pid", "998746896", True),
])
def test_byr(field, value, expected):
    assert is_passport_field_valid(field, value) == expected
